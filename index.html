<!DOCTYPE HTML>
<!--this is one of those kind of problems you get when you apply for a job, except I wanted to develop the 
interface for a round clock with animation so I've been working on it beyond the call. 
-->
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Clock</title>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

	<!--css styles-->
	<link href="css/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
 	<link href="css/stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
	<!--[if IE]>
	    <link href="css/stylesheets/ie.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<![endif]-->
	<script type="text/javascript">
	$(document).ready(function(){


		$("#submitbutton").click(function(){

		/*setup for time functions*/
		var h1;
		var m1;
		var h2;
		var m2;
		var ampm1;
		var ampm2;



		var time1 = $("#time1").val();
		var time2 = $("#time2").val();

		timeDiff(time1, time2);

		/*validate*/

		

		function timeDiff(time1, time2){
			var hdiff;
			var mdiff;

			/*get the hours and minutes for the math*/
			var timeArr1 = amCheck((time1.replace(":", " ")).split(" "));
			var timeArr2 = amCheck((time2.replace(":", " ")).split(" "));


			h1 = parseInt(timeArr1[0]);
			m1 =  parseInt(timeArr1[1]);
			ampm1 = timeArr1[2];

			h2 = parseInt(timeArr2[0]);
			m2 =  parseInt(timeArr2[1]);
			ampm2 = timeArr2[2];

			/*var time1 = timeTotal(h1, m1, ampm1);
			var time2 = timeTotal(h2, m2, ampm2);
			alert (time1 + " " + time2);
			var timeChange;

			if (time2 > time1) {
				timeChange = time2 - time1;
			} 
			else{
				timeChange = (24 * 60) - (time2 - time1);
			}

			var hdiff = timeChange/60;
			var mdiff = timeChange%60;

			alert(hdiff + " " + mdiff);

			function timeTotal(h, m, ampm){
				alert(h);

				if(ampm == "PM"){
					var h = h + 12;
				}
				else{}
				var timetotal = (h * 60) + m;
				return timetotal;
			}*/
		}
			
			/*determine the time difference for hours
			if((h1 <= h2) && (ampm1 == ampm2)){

				hdiff = (h2 - h1); 
			}
			else if(h1 < h2){

				hdiff = 12 + (h2 - h1);
			}
			else if((h1 > h2) && (ampm1 == ampm2)){

				
				if((h1 == 12) && (ampm1 == "PM")){
					hdiff = h2;
				}

				else{
					hdiff = 24 - (h1 - h2);
				}
			}
			else{

				hdiff = 12 - (h1 - h2);
			}  

			
			if(m1 < m2){

				mdiff = m2 - m1;
			}
			else if((m1 > m2) && (h1 == h2) && (ampm1 == ampm2)){

				mdiff = 60 - (m1 - m2);
				hdiff = 23;
			}
			else{

				mdiff = 60 - (m1 - m2);
			}
 
			alert(hdiff + " " + mdiff);

		}

		function amCheck(timeArr){

			if((timeArr[0] == 12) && (timeArr[2] == "AM")){
				timeArr[0] = "0";
			}
			else{}

			return timeArr;
		}*/


	});
	</script>

</head>

<body>

	<header>
		<h1>The Clock</h1>
		<hr/>
	</header>
	
	<section class="clockapp">
		<div class="clockboxes">

			<div class="timeinputs">

					<div class="instructions">
						Please enter two times in the following format: HH:MM AM
					</div>
					<!--I didn't add validation but I'd usually use a library-->
					<span>
						From <input type="text" id="time1" value="12:00 AM" maxlength="8" autofocus/>
					</span>

					<span>
						To <input type="text" id="time2" value="12:00 AM" maxlength="8"/>
					</span>

					<!--but I'm not using a real submit, I'd have to prevent default action-->
					<span>
						<input type="button" id="submitbutton" value="Submit"/>
					</span>

			</div>

			<div class="submitted">
				<span class="submitmessage"></span>
				<span class="timediff"></span>
			</div>

		</div>

		<div class="clock">
		</div>
	</section>


</body>

</html>
